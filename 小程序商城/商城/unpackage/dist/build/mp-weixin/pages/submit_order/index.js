(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/submit_order/index"],{"1aa3":function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},s=[]},2587:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("0572"));function n(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{isShow_address:!0,index:"",data_address:"",total:"",value:"",checked:!1,data:"",url:"",shop_num:""}},onLoad:function(t){if(this.get_address(),void 0!=t&&(this.total=parseFloat(t.total),console.log(this.total)),void 0!=t){var e=JSON.parse(t.data);this.data=e,console.log(this.data)}},methods:{add_address:function(){t.navigateTo({url:"../site/index?back=true",success:function(t){console.log(3333)},fail:function(t){console.log(t)}})},onChange_num:function(t){var e=this;setTimeout((function(){console.log(e.index),e.data[e.index].num=t.detail}),100),console.log(this.data),this.num=t.detail,console.log(t)},onClickButton:function(e){var a=this;if(0!=this.isShow_address){var n=[];console.log(this.data,"lllllllll");for(var s=0;s<this.data.length;s++){var i={};i.productId=this.data[s].id,i.buyNumber=this.data[s].num,i.subtotal=parseInt(this.data[s].num*this.data[s].present_price),n.push(i),console.log(n,"ggggggggggg")}var d={userId:getApp().globalData.userId,receiverAddressId:this.data_address.id,payTotal:this.total/100,orderSaveParams:JSON.stringify(n)};console.log(d,6666666),this.$myRequest({url:"Userorder/create_order",data:d,header:{"Content-Type":"application/json"},method:"post"}).then((function(e){console.log(e,"这个是eee");var n=a;t.login({success:function(t){if(t.code){var a=t.code;n.$myRequest({url:"/orderpay/wxPay",data:{orderId:e.data.id,code:a},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"post"}).then((function(t){console.log(t),n.pay_ment(t.paySign,t.timeStamp,t.nonceStr,t.package)})).catch((function(t){console.log(t),(0,o.default)("支付失败")}))}else console.log("登录失败！"+t.errMsg)}})})).catch((function(t){console.log(t),(0,o.default)("支付失败")})),console.log(this.data)}else(0,o.default)({type:"warning",message:"请添加邮寄地址"})},pay_ment:function(e,a,o,n){t.requestPayment({paySign:e,timeStamp:a,nonceStr:o,package:n,signType:"MD5",success:function(e){t.redirectTo({url:"../order/order?active=".concat(1),success:function(t){},fail:function(t){}})},fail:function(t){}})},minus:function(t,e){console.log(e),this.index=e;for(var a=this.total,o=0;o<this.data.length;o++)t==this.data[o].id&&(a-=100*parseFloat(this.data[o].present_price));this.total=a},plus:function(t,e){this.index=e,console.log(e);for(var a=this.total,o=0;o<this.data.length;o++)t==this.data[o].id&&(a+=100*parseFloat(this.data[o].present_price));this.total=a},address:function(){t.navigateTo({url:"../order_address/index"})},get_address:function(){var t=this;this.$myRequest({url:"/address/get_address",data:{userId:getApp().globalData.userId},method:"get"}).then((function(e){console.log(e),null==e.data?t.isShow_address=!1:t.isShow_address=!0,t.data_address=e.data,console.log(t.data_address,444444)})).catch((function(t){console.log(t)}))}},created:function(){this.url=getApp().globalData.url,this.get_address()},watch:{}};e.default=s}).call(this,a("543d")["default"])},"4f49":function(t,e,a){"use strict";a.r(e);var o=a("2587"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,(function(){return o[t]}))}(s);e["default"]=n.a},"83fa":function(t,e,a){},"86b0":function(t,e,a){"use strict";a.r(e);var o=a("1aa3"),n=a("4f49");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d0ae");var i,d=a("f0c5"),r=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=r.exports},d0ae:function(t,e,a){"use strict";var o=a("83fa"),n=a.n(o);n.a},e0f6:function(t,e,a){"use strict";(function(t){a("4f31");o(a("66fd"));var e=o(a("86b0"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])}},[["e0f6","common/runtime","common/vendor"]]]);